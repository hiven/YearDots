{% extends "base.html" %}
{% from "_macros.html" import dot %}

{% block title %}Habit Tracker{% endblock %}
{% block content %}

<form method="get" style="text-align:center;margin-bottom:20px;">
  <select name="view" onchange="this.form.submit()">
    <option value="week"  {% if view=='week'  %}selected{% endif %}>This Week</option>
    <option value="total" {% if view=='total' %}selected{% endif %}>Last 30 Days</option>
  </select>
  <a href="{{ url_for('main.add_activity') }}" style="margin-left:15px;">+ Add Activity</a>
  <a href="{{ url_for('main.manage_habits') }}" style="margin-left:10px;">âš™ Manage Habits</a>
</form>

{% for block in habit_blocks %}
  <h2>{{ block.habit.name }}</h2>

  <div class="year-grid">
    {% for full_date in dates %}
      {{ dot(full_date, block.completed_dates, today, block.habit.id) }}
    {% endfor %}
  </div>
{% endfor %}

{% endblock %}
